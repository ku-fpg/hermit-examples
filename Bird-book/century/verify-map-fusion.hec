---------------------------
-- Verify map-fusion
--
-- map (f . g) = map f . map g
--
--
---------------------------

rule-to-lemma "map-fusion"
prove-lemma "map-fusion"

extensionality 'xs
lhs (unfold '.)

induction 'xs

  both (any-call (unfold 'map >>> undefined-expr))
  end-case

  both (any-call (unfold 'map >>> case-reduce))
  end-case

  both (any-call (unfold 'map >>> case-reduce))
  rhs (one-td (backward (lemma ind-hyp-0)))
  rhs (one-td (unfold '.))
  end-case
